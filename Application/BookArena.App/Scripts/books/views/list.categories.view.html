<h2 class="content-header">Book Categories</h2>
<hr />

<button ng-disabled="!authenticatedUser.hasRegistered" ng-show="authenticatedUser.hasRegistered" class="button success" data-open="CategoryAddModal">Add New Category</button>

<div ng-if="!vm.categories" class="block text-center red"><strong>Sorry, no category found!</strong></div>

<div ng-if="vm.fetchingCategories">
    <div class="spinner">
        <div></div>
        <div class="rect2"></div>
        <div class="rect3"></div>
        <div class="rect4"></div>
        <div class="rect5"></div>
    </div>
</div>

<div id="category-container" ng-if="vm.categories">
    <input type="search" ng-model="vm.searchText" placeholder="Filter Category" />
    <div ng-repeat="category in vm.categories | filter: vm.searchText" class="categoryBlock">
        <h5 class="category-header">{{category.title}} <small class="green">({{category.count}})</small></h5>
        <hr />
        <footer class="pull-right">
            <a ng-href="#/categories/{{category.id}}/books" class="button small">
                View
            </a>
            <a ng-show="authenticatedUser.hasRegistered" class="button small" ng-click="vm.initCategoryEditForm(category)">
                Edit
            </a>
        </footer>
    </div>
</div>

<div id="CategoryAddModal" class="reveal tiny" data-reveal>
    <div data-category-add-form></div>

    <button class="close-button" data-close aria-label="Close modal" type="button">
        <span aria-hidden="true">&times;</span>
    </button>
</div>

<div id="CategoryEditModal" class="reveal tiny" data-reveal>
    <div data-category-edit-form></div>

    <button class="close-button" data-close aria-label="Close modal" type="button">
        <span aria-hidden="true">&times;</span>
    </button>
</div>